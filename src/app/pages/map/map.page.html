<ion-content class="body-map" [fullscreen]="true" cdkDroplist>
  
  <ion-header collapse="condense">
    <div class="client-name">
      <ion-icon class="descarga-icon" name="download-outline" (click)="toggleTextBox()"></ion-icon>
    </div>
  </ion-header>
  
  <ion-icon id="drag-icon" name="albums" (click)="createPostIt($event)"></ion-icon>

  <div class="post-it" *ngFor="let postIt of postIts" [style.left.px]="postIt.x" [style.top.px]="postIt.y" cdkDrag>
    <!-- Asigna un ID único a cada textarea para el enlace ngModel -->
    <textarea [(ngModel)]="postIt.content" placeholder="Escribe aquí..." (blur)="onPostItBlur(postIt.id)" [attr.id]="postIt.id"></textarea>
  </div>   

  <div class="map-upper-lines">
    <div class="row-upper-line"></div>
    <div class="column-upper-line"></div>
  </div>
  <div class="map-lower-lines">
    <div class="row-lower-line"></div>
    <div class="column-lower-line"></div>
  </div>

  <div class="save-client" *ngIf="showTextBox">
    <div class="save-client-box">
      <ion-input placeholder="Ingresa el nombre del cliente" [(ngModel)]="inputText"></ion-input>
      
      <ion-button class="save-button" (click)="guardarTexto()">Guardar </ion-button>
      <ion-button (click)="cancelar()">Cancelar</ion-button>
    </div>
  </div>
</ion-content>
